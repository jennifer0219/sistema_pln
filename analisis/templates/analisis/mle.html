{% extends 'analisis/base.html' %}
{% block title %}MLE - {{ n }}-gramas{% endblock %}

{% block content %}

<h1>MLE - {{ n }}-gramas del texto: {{ texto.titulo }}</h1>
<h3>{% if usar_fronteras %}Con fronteras de oración{% else %}Sin fronteras{% endif %}</h3>

<form method="get" style="margin-bottom:20px;">
    <label for="n">N-grama:</label>
    <input type="number" id="n" name="n" min="1" value="{{ n }}" style="width:50px;">

    <label for="usar_fronteras">Fronteras:</label>
    <select id="usar_fronteras" name="usar_fronteras">
        <option value="0" {% if not usar_fronteras %}selected{% endif %}>Sin fronteras</option>
        <option value="1" {% if usar_fronteras %}selected{% endif %}>Con fronteras</option>
    </select>

    <button type="submit" class="button">Actualizar</button>
</form>

<h2>Corpus tokenizado</h2>
<p>{{ tokens }}</p>

<h2>Tabla de n-gramas</h2>
<table>
    <tr>
        <th>N-grama</th>
        <th>Frecuencia</th>
        <th>Probabilidad (MLE)</th>
    </tr>
    {% for ngrama, freq, prob in resultados %}
    <tr>
        <td>{{ ngrama }}</td>
        <td>{{ freq }}</td>
        <td>{{ prob|floatformat:3 }}</td>
    </tr>
    {% endfor %}
</table>

<a href="{% url 'lista_textos' %}" class="button">⬅ Volver</a>

{% endblock %}


